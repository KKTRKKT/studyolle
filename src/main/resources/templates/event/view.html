<html xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{fragments/layout :: layout (_, ~{::body}, ~{})}">

<body>
<script>$(function (){ $('body').addClass("bg-white"); })</script>
<div class="col-12 py-5">
    <div class="row">
        <div class="col-md-8">
            <div class="row">
                <span class="h2 col-8">
                    <a class="text-decoration-none" th:href="@{'/study/' + ${study.path} + '/events'}">
                        <span th:text="${study.title}"></span>
                    </a>
                    / <span th:text="${event.title}"></span>
                </span>
                <div class="col d-md-block text-end">
                    <a class="btn btn-outline-primary" th:href="@{'/study/' + ${study.path} + '/event/' + ${event.id} + '/edit'}"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 수정</a>
                </div>
            </div>

            <div class="mt-3" th:utext="${event.description}">Description</div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="border-top border-4 mb-3"></div>
            <div class="mb-3">
                <h5>모집방법</h5>
                <span th:text="${event.eventType.description}"></span>
            </div>
            <div class="mb-3">
                <h5>신청 마감일</h5>
                <span th:text="${#temporals.format(event.endEnrollmentDateTime, 'yyyy년 MM월 dd일 EEEE a hh:mm')}"></span>
            </div>
            <div class="mb-3">
                <h5>일시</h5>
                <span th:text="${#temporals.format(event.startDateTime, 'yyyy년 MM월 dd일 EEEE a hh:mm')}"></span> ~<br>
                <span th:text="${#temporals.format(event.endDateTime, 'yyyy년 MM월 dd일 EEEE a hh:mm')}"></span>
            </div>
            <div class="mb-3">
                <h5>모임장</h5>
                <a th:href="@{'/profile/' + ${event.createdBy.nickname}}" class="btn justify-content-between btn-light">
                    <th:block th:replace="~{fragments/header :: profileImage (${event.createdBy.profileImage}, ${event.createdBy.email})}"></th:block>
                    <span class="ms-2 pe-none" th:text="${event.createdBy.nickname}"></span>
                    <i class="fa fa-external-link" aria-hidden="true"></i>
                </a>
            </div>
            <div class="mb-3">
                <h5>신청인원 / 모집인원</h5>
                <span th:text="${event.enrollments.size()}"></span> /
                <span th:text="${event.limitOfEnrollments}"></span>
            </div>
            <div class="form-group d-grid gap-2">
                <button type="submit" class="btn btn-primary ">참가하기</button>
            </div>
        </div>
    </div>
</div>
</body>
</html>
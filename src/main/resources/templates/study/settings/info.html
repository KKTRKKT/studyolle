<html xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{fragments/studySettingsLayout :: layout (~{::body}, 'info', ~{::alert})}">

<alert>
    <div th:if="${success}" class="alert alert-success alert-dismissible fade show" role="alert" >
        <span>소개를 성공적으로 수정했습니다!</span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
</alert>

<body>
<div class="row mt-3">
    <div class="col-sm-12">
        <form id="studyInfoForm" class="needs-validation" th:action="@{'/study/' + ${study.path} + '/settings/info'}" th:object="${studyInfoForm}" method="post" novalidate>
            <div class="form-group mb-3">
                <label for="bio">짧은 소개</label>
                <textarea id="bio" th:field="*{bio}" class="form-control" rows="3"
                          aria-describedby="bioHelp" maxlength="255">
            </textarea>
                <small id="bioHelp" class="form-text text-muted">
                    255자 이내로 스터디를 짧은 소개해주세요.
                </small>
                <small class="invalid-feedback">짧은 소개를 입력하세요.</small>
                <small class="form-text text-danger" th:if="${#fields.hasErrors('bio')}" th:errors="*{bio}">Bio Error</small>
            </div>

            <div class="form-group mb-3">
                <label for="explanation">상세 소개</label>
                <textarea id="explanation" type="text" class="form-control" th:field="*{explanation}"
                          aria-describedby="explanationHelp" maxlength="255"></textarea>
                <small id="explanationHelp" class="form-text text-muted">
                    스터디 목표, 일정, 진행 방식, 사용할 교재 또는 인터넷 강좌 그리고 모집중인 스터디원 등 스터디에 대해 자세히 적어주세요.
                </small>
                <small class="invalid-feedback">상세 소개를 입력하세요.</small>
                <small class="form-text text-danger" th:if="${#fields.hasErrors('explanation')}" th:errors="*{explanation}">Explanation Error</small>
            </div>

            <div class="form-group d-grid gap-2 mb-3">
                <button class="btn btn-primary" type="submit">수정하기</button>
            </div>
        </form>
    </div>
</div>
<script src="/static/resources/node_modules/summernote/dist/summernote-bs5.min.js" th:src="@{/resources/node_modules/summernote/dist/summernote-bs5.min.js}"></script>
<script type="application/javascript">
    $(document).ready(function() {
        $('#explanation').summernote({
            fontNames: ['Arial', 'Arial Black', 'Comic Sans MS', 'Courier New', 'Noto Sans KR', 'Merriweather'],
            placeholder: "스터디 목표, 일정, 진행 방식, 사용할 교재 또는 인터넷 강좌 그리고 모집중인 스터디원 등 스터디에 대해 자세히 적어주세요.",
            tabSize: 2,
            height: 300
        });
    });
</script>
</body>
</html>